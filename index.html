<!DOCTYPE html>
<html style="height: 100%">
<head>
<meta charset="UTF-8">
<title>electron-study</title>
<link href="./style.css" rel="stylesheet"/>
<script>
  const isDev = require('electron-is-dev');
  window.jQuery = window.$ = require('jquery');

  function onload() {
    const webview = document.querySelector("webview");
    webview.addEventListener("dom-ready", function() {
      if (isDev) {
        webview.openDevTools();
      }
    });
  }

  function menuItemClicked(sender) {
    const menu_id = $(sender).attr("data-menu-id");

    $("#menu_container").children().each(function() {
      const menu = $(this);
      if (menu.attr("data-menu-id") == menu_id) {
        menu.addClass("ThemeContainerActive")
      } else {
        menu.removeClass("ThemeContainerActive");
      }
    });

    $("#tool_container").children().each(function() {
      const tool = $(this);
      if (tool.attr("id") == menu_id) {
        tool.addClass("ToolPanelActive");
      } else {
        tool.removeClass("ToolPanelActive");
      }
    });
  }
</script>
</head>
<body style="margin: 0; padding: 0; min-width: 100%; min-height: 100%" onload="onload();">
  <div class="ThemeContainer" style="display: flex; flex-direction: column; min-width: 800px; width: 100vw; height: 100vh;">
    <div style="flex: 0 0 480px;">
      <webview
        id="wv"
        src="http://www.dmm.com/netgame/social/-/gadgets/=/app_id=854854/"
        style="width: 800px; height: 480px; margin: auto;"
        nodeintegration
        preload="./preload.js">
      </webview>
    </div>
    <div class="ThemeContainerBorderT" style="flex: 1 1 auto; min-height: 200px; display: flex">
      <div id="menu_container" class="ThemeContainerBorder ThemeContainerBorderR" style="flex: 0 0 100px; display: flex; flex-direction: column;">
        <div class="MenuItem ThemeContainer ThemeContainerActive ThemeContainerBorderB" onclick="menuItemClicked(this);" data-menu-id="browser_tool">
          ブラウザ
        </div>
        <div class="MenuItem ThemeContainer ThemeContainerBorderB" onclick="menuItemClicked(this);" data-menu-id="deck_tool">
          編成
        </div>
      </div>
      <div id="tool_container" style="flex: 1 1 auto; display: flex;">
        <div id="browser_tool" class="ToolPanel ToolPanelActive">
          hoge
        </div>
        <div id="deck_tool" class="ToolPanel">
        </div>
      </div>
    </div>
  </div>
</body>
</html>
